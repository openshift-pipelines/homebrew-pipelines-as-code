# This file was generated by GoReleaser. DO NOT EDIT.
cask "tektoncd-pac" do
  desc "tkn-pac - A command line interface for interacting with Pipelines as Code"
  homepage "https://pipelinesascode.com"
  version "0.36.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "tektoncd-pac"
  depends_on formula: [
      "git",
      "tektoncd-cli",
    ]

  on_macos do
    url "https://github.com/openshift-pipelines/pipelines-as-code/releases/download/v0.36.0/tkn-pac_0.36.0_darwin_all.zip"
    sha256 "6967be83c78c9c7f57b6067c79eeb9e67d6867a206dfcbdba28926fbe5efc81b"
  end

  on_linux do
    on_intel do
      url "https://github.com/openshift-pipelines/pipelines-as-code/releases/download/v0.36.0/tkn-pac_0.36.0_linux_x86_64.zip"
      sha256 "8a8a1010a9bb5d63424fa35b6ea40aa86dfb9b8c5f67338b0153852ea40a7812"
    end
    on_arm do
      url "https://github.com/openshift-pipelines/pipelines-as-code/releases/download/v0.36.0/tkn-pac_0.36.0_linux_arm64.zip"
      sha256 "80191fc8fafdb66a9b6ea1a54b51bc98dd9d6157d16f0525da760ad5dd28fbb0"
    end
  end

  preflight do
    bin.install "tkn-pac" => "tkn-pac"
    output = Utils.popen_read("SHELL=bash #{bin}/tkn-pac completion bash")
    (bash_completion/"tkn-pac").write output
    output = Utils.popen_read("SHELL=zsh #{bin}/tkn-pac completion zsh")
    (zsh_completion/"_tkn-pac").write output
    prefix.install_metafiles
  end

  # No zap stanza required
end
