# This file was generated by GoReleaser. DO NOT EDIT.
cask "tektoncd-pac" do
  zsh_completion = "#{staged_path}/_tkn-pac"
  bash_completion = "#{staged_path}/tkn-pac.bash"
  fish_completion = "#{staged_path}/tkn-pac.fish"

  preflight do
    stdout, * = system_command "#{staged_path}/tkn-pac", args: ["completion", "bash"]
    File.write bash_completion, stdout
    stdout, * = system_command "#{staged_path}/tkn-pac", args: ["completion", "zsh"]
    File.write zsh_completion, stdout
    stdout, * = system_command "#{staged_path}/tkn-pac", args: ["completion", "fish"]
    File.write fish_completion, stdout
  end

  binary "tkn-pac"
  binary zsh_completion, target: "#{HOMEBREW_PREFIX}/share/zsh/site-functions/_tkn-pac"
  binary bash_completion, target: "#{HOMEBREW_PREFIX}/etc/bash_completion.d/tkn-pac"
  binary fish_completion, target: "#{HOMEBREW_PREFIX}/share/fish/vendor_completions.d/tkn-pac.fish"

  desc "tkn-pac - A command line interface for interacting with Pipelines as Code"
  homepage "https://pipelinesascode.com"
  version "0.36.1"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "tektoncd-pac"
  depends_on formula: [
      "git",
      "tektoncd-cli",
    ]

  on_macos do
    url "https://github.com/chmouel/pipelines-as-code/releases/download/v0.36.1/tkn-pac_0.36.1_darwin_all.zip"
    sha256 "171a63edc3f4fa8e75a37bc7708b00430d8036a3e3edfbdb1e01fd3297b245f1"
  end

  on_linux do
    on_intel do
      url "https://github.com/chmouel/pipelines-as-code/releases/download/v0.36.1/tkn-pac_0.36.1_linux_x86_64.tar.gz"
      sha256 "94b3233616d4d7d5692e4c4b1d28e085ce01cdf6ca3ae9356bbf8241be2de642"
    end
    on_arm do
      url "https://github.com/chmouel/pipelines-as-code/releases/download/v0.36.1/tkn-pac_0.36.1_linux_arm64.tar.gz"
      sha256 "d90e1c0122dbbe749b18196dba2fd035d2858b24acb9d41ef878ff99fefc9169"
    end
  end

  # No zap stanza required
end
